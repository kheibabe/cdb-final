
<mat-form-field  class="filter">
  <mat-label>Filter</mat-label>
  <input matInput placeholder="Ex. Microsoft" [(ngModel)]=searchword name="name" (input)="applyFilter()">
  <div class="mat-suffix" matSuffix>
    <button *ngIf="removable" mat-icon-button (click)="removeSearch()">
      <mat-icon>clear</mat-icon>
    </button>
    <mat-icon>search</mat-icon>
  </div>
 
</mat-form-field>

<div>
  <table mat-table [dataSource]="companyList" matSort class="mat-elevation-z8">
  
    <!-- Id Column -->
    <div *ngIf="adminRights">
    <ng-container *ngIf="adminRights" matColumnDef="id" >
      <th mat-header-cell *matHeaderCellDef >
        Id
        </th>
      <td mat-cell *matCellDef="let company"> {{company.id}} </td>
    </ng-container>
    </div>
    
    <!-- Name Column -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef   >
          <mat-button-toggle-group name="nameButton" aria-label="buttonOrderByName" class="orderby">
         
            <mat-button-toggle (click)="setOrderBy('asc','company.name')" >
              <mat-icon [inline]="true">expand_less</mat-icon>
            </mat-button-toggle>
            <p>{{"name" | translate}} </p>
            <mat-button-toggle (click)="setOrderBy('desc','company.name')" >
              <mat-icon [inline]="true">expand_more</mat-icon>
            </mat-button-toggle>
  
          </mat-button-toggle-group>
      </th>
   

      <td mat-cell *matCellDef="let company" class="tdbox"> 
        <div  *ngIf="adminRights; else userRights" class="cell-name" >
          <button mat-icon-button (click)="deleteCompanies(company.id)">
            <mat-icon>
              delete
            </mat-icon>
          </button>
          {{ company.name }}

          <div class="mat-loop">
              <button mat-icon-button (click)="openDialogEdit(company)">
                <mat-icon>edit</mat-icon>
                <div>
                <app-company-detail *ngIf = "dialogOpen" [hidden]="true" [childCompany]="company"></app-company-detail>
              </div>
            </button>
            </div>
          
        </div>

        <ng-template #userRights>
          {{ company.name }}
        </ng-template>

         
       
      </td>
    </ng-container>

    
    <div *ngIf="adminRights">
      <ng-container  matColumnDef="add">
        <th mat-header-cell *matHeaderCellDef> 
          <button mat-icon-button (click)="openDialog()">
            <mat-icon>
              add_box
            </mat-icon> 
          </button>
        </th>
        <td mat-cell *matCellDef="let company"> 
          </td>
      </ng-container>
    </div>
    
    


    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
<div>
<mat-paginator [length]="length"
  [pageIndex]="pageIndex"
  [pageSize]="pageSize"
  [pageSizeOptions]="pageSizeOptions"
  (page)="pageEvent = getServerData($event)"
  aria-label="Select page">

</mat-paginator>
</div>
</div>